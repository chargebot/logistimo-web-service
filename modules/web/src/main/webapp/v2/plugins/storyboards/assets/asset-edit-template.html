<div ng-controller="assetTemplateController">
    <div class="row pb10" ng-repeat="filter in widgetTemplate.templateFilters">
        <div class="col-sm-4">
            <span class="form-label">{{resourceBundle[filter.nameKey]}}</span>
        </div>

        <div class="col-sm-5" ng-if="filter.type=='title'">
            <div class="has-feedback">
                <input type="text" class="form-control" ng-model="widget.conf.title" autocomplete="off"
                       placeholder="Title">
            </div>
        </div>

        <div class="col-sm-5" ng-if="filter.type=='entityTag'">
            <tag-select tags-model="widget.conf.entityTag" place-holder="All"
                        type="'entity'"
                        force-no-udf="'true'">
            </tag-select>
        </div>

        <div class="col-sm-5" ng-if="filter.type=='exEntityTag'">
            <tag-select tags-model="widget.conf.exEntityTag" place-holder="All"
                        type="'entity'"
                        force-no-udf="'true'">
            </tag-select>
        </div>

        <div class="col-sm-5" ng-if="filter.type=='date'">
            <date-picker date-model="widget.conf.date" min-date="createdOn" place-holder="Date"
                         max-date="today"></date-picker>
        </div>
        <div class="col-sm-5" ng-if="filter.type=='period'">
            <div class="col-sm-12 noLRpad btn-group">
                <select ng-model="widget.conf.period" class="form-control">
                    <option value="0">Now</option>
                    <option value="1">1 day</option>
                    <option value="2">2 days</option>
                    <option value="3">3 days</option>
                    <option value="7">7 days</option>
                    <option value="30">30 days</option>
                </select>
            </div>
        </div>

        <div class="col-sm-5" ng-if="filter.type=='assetType'">
            <lg-uib-select multiple="'multiple" query="filterAssets(q)" ui-model="widget.conf.asset"
                           place-holder="All"></lg-uib-select>
        </div>

        <div class="col-sm-5" ng-if="filter.type=='assetStatus'">
            <div class="col-sm-12 noLRpad btn-group">
                <select ng-model="widget.conf.assetStatus" class="form-control">
                    <option value="tn">Normal</option>
                    <option value="tl">Low</option>
                    <option value="th">High</option>
                    <option value="tu">Unknown</option>
                </select>
            </div>
        </div>

        <div class="col-sm-5" ng-if="filter.type=='tPeriod'">
            <div class="col-sm-12 noLRpad">
                <select ng-model="widget.conf.tPeriod" class="form-control">
                    <option value="M_0">Now</option>
                    <option value="M_30">30 minutes</option>
                    <option value="H_1">1 hour</option>
                    <option value="H_2">2 hours</option>
                    <option value="H_3">3 hours</option>
                    <option value="H_6">6 hours</option>
                    <option value="H_12">12 hours</option>
                    <option value="D_1">1 day</option>
                    <option value="D_2">2 days</option>
                    <option value="D_3">3 days</option>
                    <option value="D_7">7 days</option>
                    <option value="D_15">15 days</option>
                    <option value="D_30">30 days</option>
                </select>
            </div>
        </div>

        <div class="col-sm-5" ng-if="filter.type=='exTempState'">
            <lg-uib-select multiple="'multiple" query="filterStatus(q)" ui-model="widget.conf.exTempState"
                           place-holder="None"></lg-uib-select>
        </div>

        <div class="col-sm-5" ng-if="filter.type == 'excursionType'">
            <div class="col-sm-12 noLRpad">
                <select ng-model="widget.conf.excursionType" class="form-control">
                    <option value="0">High</option>
                    <option value="1">Low</option>
                    <option value="2">Normal</option>
                </select>
            </div>
        </div>

        <div class="col-sm-5" ng-if="filter.type == 'exposureTime'">
            <div class="col-sm-12 noLRpad">
                <select ng-model="widget.conf.exposureTime" class="form-control">
                    <option ng-repeat="metric in secondaryMetric" value="{{metric.value}}">{{metric.name}}</option>
                </select>
            </div>
        </div>

        <div class="col-sm-5" ng-if="filter.type=='periodicity'">
            <div class="col-sm-12 noLRpad btn-group">
                <select ng-model="widget.conf.period" class="form-control" ng-change="widget.conf.duration = ''">
                    <option value="">-- Select period --</option>
                    <option value="m">Monthly</option>
                    <option value="w">Weekly</option>
                    <option value="d">Daily</option>
                </select>
            </div>
        </div>

        <div class="col-sm-5" ng-if="filter.type=='duration'">
            <div class="col-sm-12 noLRpad btn-group">
                <select ng-model="widget.conf.duration" class="form-control">
                    <option value="">-- Select period --</option>
                    <option value="3" ng-show="widget.conf.period=='m'">3</option>
                    <option value="4" ng-show="widget.conf.period=='w'">4</option>
                    <option value="6" ng-show="widget.conf.period=='m'">6</option>
                    <option value="7" ng-show="widget.conf.period=='d'">7</option>
                    <option value="8" ng-show="widget.conf.period=='w'">8</option>
                    <option value="12" ng-show="widget.conf.period=='m' || widget.conf.period=='w'">12</option>
                    <option value="15" ng-show="widget.conf.period=='d'">15</option>
                    <option value="30" ng-show="widget.conf.period=='d'">30</option>
                </select>
            </div>
        </div>

    </div>
</div>